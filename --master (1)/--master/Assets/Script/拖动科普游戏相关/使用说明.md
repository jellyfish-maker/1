# 眼球拼装游戏脚本使用说明

## 脚本概述

这个眼球知识科普小游戏包含三个主要脚本：

1. **EyeDragUI.cs** - 主要的拖拽拼装脚本
2. **PartInfoPopup.cs** - 弹窗信息显示脚本
3. **EyePuzzleGameManager.cs** - 游戏管理器脚本

## 设置步骤

### 1. 设置拖拽部件

1. 为每个需要拖拽的眼球部件添加 `EyeDragUI` 脚本
2. 在Inspector中设置以下参数：
   - **Correct Trans**: 拖拽到正确位置时的目标RectTransform
   - **Snap Distance**: 吸附距离（像素）
   - **Layer Order**: 拼装完成后的图层顺序（数值越大越在上层）
   - **Part Name**: 部件名称（如"晶状体"、"瞳孔"等）
   - **Description**: 部件描述信息
   - **Popup Prefab**: 弹窗预制体（可选）
   - **Popup Canvas**: 弹窗画布（可选）

### 2. 创建弹窗预制体

1. 创建一个UI Canvas作为弹窗画布
2. 在画布下创建弹窗UI，包含：
   - 背景Panel
   - 标题Text (命名为"TitleText")
   - 描述Text (命名为"DescText")
   - 关闭按钮 (命名为"CloseButton")
3. 为弹窗添加 `PartInfoPopup` 脚本
4. 将弹窗保存为预制体

### 3. 设置游戏管理器

1. 创建一个空的GameObject，添加 `EyePuzzleGameManager` 脚本
2. 在Inspector中设置：
   - **Popup Prefab**: 弹窗预制体
   - **Popup Canvas**: 弹窗画布
   - **Progress Text**: 进度显示文本（可选）
   - **Reset Button**: 重置按钮（可选）
3. 在 **Eye Parts** 列表中添加每个眼球部件的信息：
   - Part Name: 部件名称
   - Description: 部件描述
   - Layer Order: 图层顺序

## 功能特性

### 拖拽功能
- 支持UI拖拽，使用Unity的EventSystem
- 拖拽时部件会提升到最上层
- 拖拽时部件会变半透明

### 拼装检测
- 当部件拖拽到正确位置附近时自动吸附
- 拼装成功后部件会固定在正确位置
- 拼装失败时部件会回弹到初始位置

### 图层管理
- 每个部件可以设置拼装完成后的图层顺序
- 确保拼装后的部件按正确顺序显示

### 信息提示
- 点击未拼装的部件会显示弹窗
- 弹窗包含部件名称和详细描述
- 弹窗可以手动关闭或自动关闭

### 进度跟踪
- 实时显示拼装进度
- 所有部件拼装完成后触发完成事件

## 眼球部件建议设置

根据你的图片资源，建议按以下顺序设置图层：

1. **眼球整体** (Layer Order: 0) - 最底层
2. **玻璃体** (Layer Order: 1)
3. **晶状体** (Layer Order: 2)
4. **虹膜前房** (Layer Order: 3)
5. **瞳孔** (Layer Order: 4)
6. **视神经** (Layer Order: 5) - 最上层

## 注意事项

1. 确保所有拖拽部件都在同一个Canvas下
2. 弹窗画布的Sorting Order应该比游戏画布高
3. 建议为每个部件设置合适的Collider2D以确保点击检测
4. 可以根据需要调整吸附距离和图层顺序

## 扩展功能

如果需要添加更多功能，可以：

1. 在 `EyeDragUI` 中添加音效播放
2. 在 `EyePuzzleGameManager` 中添加计时器
3. 添加更多动画效果
4. 集成到更大的游戏系统中
